
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TecnoBazar Oeste</title>
    <meta name="description" content="Tecnología y bazar al mejor precio" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>html,body,#root{height:100%}</style>
  </head>
  <body class="bg-white text-neutral-900">
    <div id="root"></div>

    <!-- React + ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const { useState, useMemo } = React;

      const CURRENCY = (n) =>
        new Intl.NumberFormat("es-AR", {
          style: "currency",
          currency: "ARS",
          maximumFractionDigits: 0
        }).format(n);

      const PRODUCTS = [
        { id: "parlante-manija", name: "Parlante con manija", price: 15900, category: "Audio", image: "https://placehold.co/600x400?text=Parlante+con+manija" },
        { id: "parlante-pileta", name: "Parlante con sopapa (pileta/baño)", price: 8000, category: "Audio", image: "https://placehold.co/600x400?text=Parlante+para+pileta" },
        { id: "auriculares-bear", name: "Auriculares C-009 Bear", price: 12000, category: "Audio", image: "https://placehold.co/600x400?text=Auriculares+Bear" }
      ];

      function App() {
        const [cart, setCart] = useState([]);
        const total = useMemo(() => cart.reduce((s, i) => s + i.price * i.qty, 0), [cart]);

        function add(p) {
          setCart(prev => {
            const item = prev.find(x => x.id === p.id);
            if (item) return prev.map(x => x.id === p.id ? { ...x, qty: x.qty + 1 } : x);
            return [...prev, { ...p, qty: 1 }];
          });
        }

        function confirm() {
          const msg = "Hola! Quiero pedir: " + cart.map(i => ${i.qty}x ${i.name}).join(", ") + ". Total: " + CURRENCY(total);
          const url = "https://wa.me/5491154237871?text=" + encodeURIComponent(msg);
          window.open(url, "_blank");
        }

        return (
          <div>
            <header className="sticky top-0 bg-white border-b p-4 flex gap-2 items-center">
              <h1 className="font-bold text-xl">TecnoBazar Oeste</h1>
              <a className="ml-auto px-3 py-1 rounded-xl border" href="https://www.instagram.com/tecnobazar.oeste" target="_blank">Instagram</a>
              <a className="px-3 py-1 rounded-xl border" href="https://wa.me/5491154237871" target="_blank">WhatsApp</a>
              <button onClick={confirm} className="px-3 py-1 rounded-xl bg-black text-white">Ver carrito ({cart.reduce((s,i)=>s+i.qty,0)})</button>
            </header>

            <main className="max-w-5xl mx-auto p-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
              {PRODUCTS.map(p => (
                <div key={p.id} className="border rounded-xl overflow-hidden">
                  <img src={p.image} alt={p.name} className="w-full h-48 object-cover" />
                  <div className="p-4">
                    <div className="text-sm text-neutral-500">{p.category}</div>
                    <div className="font-bold">{p.name}</div>
                    <div className="text-lg">{CURRENCY(p.price)}</div>
                    <button onClick={() => add(p)} className="mt-2 w-full py-1 rounded-lg bg-orange-500 text-white">Agregar</button>
                  </div>
                </div>
              ))}
            </main>

            {cart.length > 0 && (
              <div className="fixed bottom-0 left-0 right-0 bg-white border-t p-4 flex items-center">
                <div className="font-bold">Total: {CURRENCY(total)}</div>
                <button onClick={confirm} className="ml-auto px-4 py-2 rounded-xl bg-black text-white">Confirmar por WhatsApp</button>
              </div>
            )}
          </div>
        );
      }
